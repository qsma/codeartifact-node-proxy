# Codeartifact Node Proxy

## Project Goal

The aim of the project is to provide access to AWS Codeartifact without access to AWS account. The problem with AWS Codeartifact solution is that you need to have access to AWS account, you need to have `AWS CLI` installed and tokens generated by AWS CLI have maximum `12h` validity.

The project is to create gateway to AWS Codeartifact, inside the project `AWS CLI` is called which generates access tokens with `1h` validity. When the token expires, a new one is generated.
All traffic between AWS Codeartifact is passed through a small NodeJS server.

## Usage

To use the proxy you need to host the NodeJS application and configure the `.env` for the connection to Codeartifact accordingly. In case of a client that wants to use the proxy just set `register` and `authToken`, in case of `npm` these lines should be added to the `.npmrc` file:

```
registry = https://your-host
//your-host/:_authToken = here-insert-one-of-the-tokens-put-into-env
//your-host/:always-auth = true
```

Or for `yarn2/3`, `.yarnrc`:

```
npmRegistryServer: "https://your-host"
npmAuthToken: "here-insert-one-of-the-tokens-put-into-env"
npmAlwaysAuth: true
```
